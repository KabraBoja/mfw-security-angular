{"version":3,"sources":["../src/mfw-security-route-interceptor-uirouter.service.js"],"names":["$mfwSecurityRouteInterceptor","this","$get","$log","$rootScope","$timeout","$mfwSecurityRouteInterceptorConfig","$mfwSecurity","$state","$mfwSecurityConfig","_init","_validateConfig","DEFAULT_STATE","defaultState","LOGIN_STATE","_loginState","$on","_stateChangeStartHandler","_stateChangeErrorHandler","EVENT_LOGIN","_loginEventHandler","EVENT_LOGOUT","_logoutEventHandler","logError","msg","error","avoidLoginStateWhenLoggedIn","angular","isUndefined","forwardToDefaultStateAfterLogin","ev","toState","toParams","stopTransition","preventDefault","loggedIn","isLogged","_isLoginState","debug","_transitionTo","_hasAccessToState","warn","name","_notifyTransitionStopped","forwardToLoginAfterStoppedTransition","evt","to","toP","from","fromP","err","status","forwardToRestrictedStateAfterLogin","stoppedTransition","stoppedTransitionParameters","_doLogout","transitionToDefault","log","forwardToLoginAfterLogout","logout","result","cfgLoginStateName","loginState","isDefined","get","loginStates","filter","length","Error","state","cfg","_securityConfigInState","login","config","data","STATE_DATA_KEY","stateParams","perms","permissions","allowed","_isPublicState","isString","isArray","hasAnyPermission","isObject","all","hasAllPermissions","any","publicByDefault","_broadcast","EVENT_TRANSITION_STOPPED","event","$broadcast","go","service","init","RouteInterceptorModule","module","run","constant","undefined","provider"],"mappings":"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","file":"mfw-security-route-interceptor-uirouter.service.min.js"}